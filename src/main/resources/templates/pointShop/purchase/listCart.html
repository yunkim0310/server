<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<meta charset="UTF-8">
<title>PlaceHere</title>

<link th:insert="~{common/import :: importFragment}">

<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-pzjw8f+ua7Kw1TIq0RtvO+fi6QxfhCpCz2vhK4U6Xvn8PBxJg4mtLOefW4Llmhks" crossorigin="anonymous">
<script src="https://code.jquery.com/jquery-3.7.1.js"></script>
<link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
<script src="https://code.jquery.com/ui/1.14.0/jquery-ui.js"></script>


<link rel="stylesheet" href="/css/templates/collection_detail.css">
<link rel="stylesheet" href="/css/templates/regist_hp.css">
<link href="/css/templates/mypage.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
<!--    <link href="/css/templates/collection_detail.css" rel="stylesheet">-->
<link href="/css/templates/style.css" rel="stylesheet">
<!--    <script src="/javascript/templates/script.js" type="text/javascript"></script>-->

<head>
    <title>PlaceHere</title>
    <script type="text/javascript">

        $(function() {
            // êµ¬ë§¤ ë²„íŠ¼ í´ë¦­
            $("button[name='buyBtn']").on("click", function () {
                fncAddPurchase();
            });

            // í™•ì¸ ë²„íŠ¼ í´ë¦­
            $("button[name='confirmBtn']").on("click", function () {
                self.location = "/product/listProduct";
            });

            $("div.product-card").on("click", function () {
                var prodNo = $(this).data("prod-no");
                self.location = "/product/getProduct?prodNo=" + prodNo;
            });
        });

        function fncAddPurchase() {
            var tranPoint = Number($("input[name='tranPoint']").val());
            var currPoint = Number($("input[name='currPoint']").val());

            if (tranPoint > currPoint) {
                alert("ë³´ìœ í•˜ì‹  í¬ì¸íŠ¸ê°€ ë¶€ì¡±í•©ë‹ˆë‹¤.");
                return;
            }else{
                alert("ì¼ê´„ êµ¬ë§¤ê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.")
            }

            $("form").attr("method", "POST")
                .attr("action", "/purchase/addPurchaseCart")
                .attr("enctype", "multipart/form-data")
                .submit();
        }

        $(function() {
            // ì¡°íšŒ ë²„íŠ¼ í´ë¦­
            $("button.btn-primary.view").on("click", function () {
                var prodNo = $(this).data("prod-no");
                self.location = "/product/getProduct?prodNo=" + prodNo;
            });

            $("button.btn-primary.list").on("click", function () {
                self.location = "/product/listProduct";
            });

            $("button.btn-remove-cart").on("click", function () {
                var userName = $(this).data("user-name");
                var prodNo = $(this).data("prod-no");
                $.ajax({
                    type: "DELETE",
                    url: "/api-purchase/removeCart",
                    data: { userName: userName, prodNo: prodNo },
                    success: function(response) {
                        alert("ì¥ë°”êµ¬ë‹ˆì—ì„œ ìƒí’ˆì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.");
                        location.reload();
                    },
                    error: function(xhr, status, error) {
                        alert("ì¥ë°”êµ¬ë‹ˆ ì‚­ì œ ì‹¤íŒ¨í•¨: " + error);
                    }
                });
            });


            $("button.btn-clear-cart").on("click", function () {
                var userName = $(this).data("user-name");
                $.ajax({
                    type: "DELETE",
                    url: "/api-purchase/clearCart",
                    data: { userName: userName },
                    success: function(response) {
                        alert("ì¥ë°”êµ¬ë‹ˆì—ì„œ ì „ì²´ ìƒí’ˆì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.");
                        location.reload();
                    },
                    error: function(xhr, status, error) {
                        alert("ì¥ë°”êµ¬ë‹ˆ ì‚­ì œ ì‹¤íŒ¨í•¨: " + error);
                    }
                });
            });

        });

    </script>

    <style>

        .product-card {
            display: flex; /* flexbox ì‚¬ìš© */
            flex-direction: row; /* ì´ë¯¸ì§€ì™€ ì •ë³´ê°€ ì¢Œìš°ë¡œ ë°°ì¹˜ë˜ë„ë¡ ì„¤ì • */
            align-items: center; /* ì„¸ë¡œ ê°€ìš´ë° ì •ë ¬ */
            border: 1px solid #ddd;
            border-radius: 8px;
            overflow: hidden;
            background-color: #fff;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            width: 100%;
            height: 200px; /* ë†’ì´ë¥¼ ì ë‹¹íˆ ì„¤ì • */
            transition: transform 0.3s ease-in-out;
            cursor: pointer;
        }

        .product-card:hover {
            transform: translateY(-5px); /* ë§ˆìš°ìŠ¤ë¥¼ ì˜¬ë ¸ì„ ë•Œ ì‚´ì§ ì˜¬ë¼ê°€ëŠ” íš¨ê³¼ */
        }

        .product-img {
            width: 40%; /* ì´ë¯¸ì§€ ì˜ì—­ì„ ì „ì²´ ì¹´ë“œì˜ 40%ë¡œ ì„¤ì • */
            height: 100%;
            background-color: #fff;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .product-img img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .product-info {
            width: 60%; /* ì •ë³´ ì˜ì—­ì„ ì „ì²´ ì¹´ë“œì˜ 60%ë¡œ ì„¤ì • */
            padding: 15px;
            text-align: left;
        }

        .product-info h3 {
            font-size: 1.2rem;
            margin-bottom: 10px;
        }

        .product-info p {
            font-size: 1rem;
            color: #555;
            margin: 5px 0;
        }

        /*.product-card:after {*/
        /*    content: 'â–¶'; !* í™”ì‚´í‘œ ì•„ì´ì½˜ *!*/
        /*    font-size: 1.5rem; !* í™”ì‚´í‘œ í¬ê¸° *!*/
        /*    color: #4880FF; !* í™”ì‚´í‘œ ìƒ‰ìƒ *!*/
        /*    !*position: absolute;*!*/
        /*    right: 10px; !* ì¹´ë“œ ì˜¤ë¥¸ìª½ ëì— ë°°ì¹˜ *!*/
        /*    top: 50%; !* ì„¸ë¡œ ì¤‘ì•™ ì •ë ¬ *!*/
        /*    transform: translateY(-50%); !* ì •í™•í•œ ì¤‘ì•™ ì •ë ¬ *!*/
        /*    cursor: pointer; !* í´ë¦­ ê°€ëŠ¥í•˜ë„ë¡ ì„¤ì • *!*/
        /*    !*margin-right:10px;*!*/
        /*}*/

        /* ìƒí’ˆ ì•¡ì…˜ ë²„íŠ¼ */
        .product-actions {
            display: flex;
            justify-content: space-around;
            padding: 10px;
            background-color: #f9f9f9;
        }

        .css-luwwab {
            /*display: flex;*/
            width: 100%;
            padding: 50px 0px 80px;
            margin: 0px auto;
            flex-direction: row;
            -webkit-box-pack: justify;
        }


        /*.product-img {*/
        /*    width: 100%;*/
        /*    height: 200px;*/
        /*    !*display: flex;*!*/
        /*    justify-content: center;*/
        /*    align-items: center;*/
        /*    !*background-color: #f0f0f0; !* ê¸°ë³¸ ë°°ê²½ìƒ‰ *!*!*/
        /*    background-color: #fff;*/
        /*    color: #999; !* í…ìŠ¤íŠ¸ ìƒ‰ìƒ *!*/
        /*    font-size: 16px; !* í…ìŠ¤íŠ¸ í¬ê¸° *!*/
        /*    text-align: center;*/
        /*    border: 1px solid #ddd; !* ì´ë¯¸ì§€ë¥¼ í‘œì‹œí•˜ì§€ ì•Šì„ ë•Œ í…Œë‘ë¦¬ í‘œì‹œ *!*/
        /*}*/

        /*!*.product-img img {*!*/
        /*!*    display: none; !* ì´ë¯¸ì§€ê°€ í‘œì‹œë˜ì§€ ì•Šì„ ë•Œ *!*!*/
        /*!*}*!*/


        /*.product-img img {*/
        /*    width: 100%; !* ê°€ë¡œë¥¼ 100%ë¡œ ì„¤ì • *!*/
        /*    height: 100%; !* ì„¸ë¡œë„ 100%ë¡œ ì„¤ì • *!*/
        /*    object-fit: cover; !* ì´ë¯¸ì§€ ë¹„ìœ¨ì„ ìœ ì§€í•˜ë©´ì„œ ì˜ì—­ì„ ì±„ì›€ *!*/
        /*    display: block;*/
        /*}*/

        /*!*.product-img img {*!*/
        /*!*    width: 100%; !* ê°€ë¡œë¥¼ 100%ë¡œ ì„¤ì • *!*!*/
        /*!*    height: 100%; !* ì„¸ë¡œë„ 100%ë¡œ ì„¤ì • *!*!*/
        /*!*    object-fit: contain; !* ì´ë¯¸ì§€ ë¹„ìœ¨ì„ ìœ ì§€í•˜ë©´ì„œ ì˜ì—­ì„ ì±„ì›€ *!*!*/
        /*!*    display: block;*!*/
        /*!*}*!*/

        /*.product-img span {*/
        /*    font-size: 1.2rem;*/
        /*    font-weight: bold;*/
        /*    color: #666;*/
        /*}*/
        /* í¼ì„ ì™¼ìª½ ì •ë ¬ë¡œ ë°°ì¹˜í•˜ëŠ” ìŠ¤íƒ€ì¼ */
        .form-inline {
            /*display: flex;*/
            flex-direction: column;  /* ì„¸ë¡œë¡œ ë‚˜ì—´ */
            align-items: flex-start;  /* ì™¼ìª½ ì •ë ¬ */
            margin-left: 380px;  /* ì™¼ìª½ ì—¬ë°± ì¶”ê°€ */
            /*background-color: #f4f7f6;  !* ì—°í•œ íšŒìƒ‰ ë°°ê²½ìƒ‰ *!*/
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            /*border: 1px solid #ddd;*/
            border: 2px solid #4880FF;
            margin-top: 0px;
        }

        /* ê° í¼ ê·¸ë£¹ ê°„ì˜ ì—¬ë°±ì„ ì£¼ì–´ êµ¬ë¶„ */
        .form-group {
            margin-bottom: 15px;  /* í¼ ê·¸ë£¹ ê°„ì˜ ê°„ê²© */
        }

        /* ë ˆì´ë¸”ê³¼ ì…ë ¥ í•„ë“œ ì‚¬ì´ì˜ ê°„ê²© */
        .form-group strong {
            font-size: 1.1rem;
            margin-right: 10px;
            font-weight: bold;
        }

        /* ì…ë ¥ í•„ë“œ í¬ê¸° ì¡°ì • */
        .form-group input[type="text"] {
            width: 220px;
            padding: 8px;
            margin-right: 10px; /* labelê³¼ì˜ ê°„ê²©ì„ ìœ„í•œ ì—¬ë°± */
            border: 1px solid #ccc;
            border-radius: 5px;
        }

        /* ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        .form-group button {
            padding: 10px 20px;
            font-size: 1rem;
            cursor: pointer;
            border: none;
            border-radius: 5px;
            margin-top: 10px;  /* ë²„íŠ¼ ìœ„ìª½ì— ì—¬ë°± ì¶”ê°€ */
            /*margin: 0;*/
            /*padding: 0;*/
            /*border: 0;*/
            /*-webkit-appearance: none;*/
            /*appearance: none;*/
            /*border-radius: 0;*/
            /*box-shadow: none;*/
            /*cursor: pointer;*/
            /*font-family: inherit;*/
            /*font-size: inherit;*/
            /*background: 0 0;*/
            /*color: #000;*/
        }

        /* ë²„íŠ¼ ê¸°ë³¸ ìŠ¤íƒ€ì¼ */
        .btn-primary {
            background-color: #4880FF;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
        }

        .btn-primary:hover {
            background-color: #005bb5;
        }

        .btn-default {
            background-color: #e0e0e0;
            color: #333;
            padding: 8px 16px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
        }

        .btn-default:hover {
            background-color: #cccccc;
        }

        /* ìƒí’ˆ ë¦¬ìŠ¤íŠ¸ ê·¸ë¦¬ë“œ */
        .product-list {
            display: grid;
            /*grid-template-columns: repeat(3, 1fr); !* í•œ ì¤„ì— 3ê°œ ì—´ *!*/
            gap: 20px; /* ìƒí’ˆ ê°„ì˜ ê°„ê²© */
            margin: 0px;
            min-height: 350px;
        }

        body {
            scrollbar-color: white;
            scrollbar-width: none;
            -ms-overflow-style: none;
            overflow-x: hidden;
        }

        .container {
            width: 100%;
            /*width: 80%;*/
            /*max-width: 100%;  !* ìµœëŒ€ ë„ˆë¹„ë„ 100%ë¡œ ì„¤ì • *!*/
            margin: 0 auto;
        }

        /* í—¤ë” ìŠ¤íƒ€ì¼ */
        .point-header {
            background-color: #ffffff;
            padding: 30px;
            text-align: center;
            margin-bottom: 30px;
        }

        .point-header h1 {
            color: #333;
            font-size: 2rem;
            font-weight: bold;
            margin-top: 10px;
        }

        /* í…Œì´ë¸” ìŠ¤íƒ€ì¼ */
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 30px;
            background-color: #ffffff;
        }

        table th, table td {
            padding: 12px;
            text-align: center;
            border: 1px solid #ddd;
        }

        table th {
            background-color: #f2f2f2;
        }

        /* ë²„íŠ¼ê³¼ ì…ë ¥ í•„ë“œ ìŠ¤íƒ€ì¼ */
        .btn-primary.view, .btn-primary.edit {
            margin: 5px;
        }

        .form-group input[type="text"] {
            width: 220px;
            margin-bottom: 10px;
        }

        input[type="radio"] {
            cursor: pointer;
        }

        [type="radio"]:checked {
            /* min-width: 24px;
            min-height: 24px;
            display: inline-block;
            position: relative;
            border-radius: 50%;
            background-color: #ff3d00; */
            transition: border 0.5s ease-in-out;

            /* border: 0.4em solid tomato; */
            /*border: 0.4em solid #ff3d00;*/
            border: 0.4em solid #4880FF;
        }

        .available {
            color: green;
            font-weight: bold;
            text-align: center;
        }

        .unavailable {
            color: red;
            font-weight: bold;
            text-align: center;
        }

        /* ì¹´í…Œê³ ë¦¬ ë ˆì´ë¸” ìŠ¤íƒ€ì¼ */
        .category-label {
            /*border: 2px solid #4880FF;*/
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 10px;
            font-size: 16px;
            color: #333;
            margin-bottom: 12px;
            font-weight: bold;
            display: block;
            background-color: #fff;
        }

        /* ë“œë¡­ë‹¤ìš´ ìŠ¤íƒ€ì¼ */
        .category-select {
            width: 100%;
            padding: 12px 20px;
            font-size: 16px;
            color: #333;
            background-color: #fff;
            border: 1px solid #ddd;
            border-radius: 8px;
            outline: none;
            cursor: pointer;
            appearance: none; /* ê¸°ë³¸ ë¸Œë¼ìš°ì € ìŠ¤íƒ€ì¼ ì œê±° */
            transition: all 0.3s ease-in-out;
            box-sizing: border-box;
            position: relative;
        }

        /* ë“œë¡­ë‹¤ìš´ ë§ˆìš°ìŠ¤ ì˜¤ë²„ ì‹œ ìŠ¤íƒ€ì¼ */
        .category-select:hover {
            border-color: #888;
            background-color: #fafafa;
        }

        /* ë“œë¡­ë‹¤ìš´ í¬ì»¤ìŠ¤ ì‹œ ìŠ¤íƒ€ì¼ */
        .category-select:focus {
            border-color: #4a90e2;
            background-color: #f7faff;
            box-shadow: 0 0 5px rgba(74, 144, 226, 0.6);
        }

        /* ë“œë¡­ë‹¤ìš´ ì•„ì´ì½˜ì„ ì¶”ê°€í•˜ê¸° ìœ„í•œ ìŠ¤íƒ€ì¼ */
        .category-select::after {
            content: 'â–¼'; /* í™”ì‚´í‘œ ëª¨ì–‘ */
            position: absolute;
            top: 50%;
            right: 10px;
            transform: translateY(-50%);
            font-size: 12px;
            color: #999;
        }

        /* ë“œë¡­ë‹¤ìš´ í•­ëª© ìŠ¤íƒ€ì¼ */
        .category-select option {
            padding: 12px 20px;
            font-size: 16px;
            color: #333;
            background-color: #fff;
            border: none;
            transition: background-color 0.3s ease;
        }

        /* ì˜µì…˜ì— ë§ˆìš°ìŠ¤ ì˜¤ë²„ ì‹œ ìƒ‰ìƒ ë³€ê²½ */
        .category-select option:hover {
            background-color: #f0f0f0;
        }


        .product-header {
            display: flex; /* flexbox ì‚¬ìš© */
            justify-content: flex-start; /* ì™¼ìª½ ì •ë ¬ */
            align-items: center; /* ì„¸ë¡œ ì¤‘ì•™ ì •ë ¬ */
            margin-bottom: 10px; /* í—¤ë”ì™€ ë‹¤ë¥¸ ë‚´ìš© ì‚¬ì´ì˜ ê°„ê²© */
        }

        .product-header h1 {
            font-size: 15px;
            margin: 0; /* ê¸°ë³¸ margin ì œê±° */
        }

        .product-header span {
            font-size: 12px;
            margin-left: 10px; /* h1ê³¼ êµ¬ë§¤ë²ˆí˜¸ ê°„ì˜ ê°„ê²© */
        }

        /* footer ìŠ¤íƒ€ì¼ */
        .footer {
            /*position: fixed;  !* í™”ë©´ í•˜ë‹¨ì— ê³ ì • *!*/
            bottom: 0;        /* í™”ë©´ ì•„ë˜ìª½ì— ìœ„ì¹˜ */
            left: 0;          /* í™”ë©´ ì™¼ìª½ì— ë§ì¶¤ */
            width: 100%;      /* í™”ë©´ ë„ˆë¹„ë¥¼ 100%ë¡œ ì„¤ì • */
            background-color: #f8f8f8; /* ë°°ê²½ìƒ‰ */
            color: #555555;   /* í…ìŠ¤íŠ¸ ìƒ‰ìƒ */
            text-align: left; /* í…ìŠ¤íŠ¸ë¥¼ ì¤‘ì•™ ì •ë ¬ */
            font-size: 12px;   /* ê¸€ì í¬ê¸° ì‘ê²Œ ì„¤ì • */
            padding: 10px 0;   /* ìœ„ ì•„ë˜ ì—¬ë°± */
            box-shadow: 0 -2px 5px rgba(0, 0, 0, 0.1); /* ê·¸ë¦¼ì íš¨ê³¼ */
        }

        .footer p {
            margin: 0; /* p íƒœê·¸ì˜ ê¸°ë³¸ ì—¬ë°± ì œê±° */
        }

        /*.product-container {*/
        /*    display: flex;*/
        /*    flex-direction: column;*/
        /*    justify-content: center; !* ìˆ˜ì§ ì¤‘ì•™ ì •ë ¬ *!*/
        /*    align-items: center; !* ìˆ˜í‰ ì¤‘ì•™ ì •ë ¬ *!*/
        /*    background-color: #fff;*/
        /*    padding: 20px;*/
        /*    margin: 20px auto;*/
        /*    width: 50%;*/
        /*    box-sizing: border-box;*/
        /*}*/


        .btn-remove-cart {
            /*position: absolute;*/
            top: 10px;
            right: 10px;
            background: transparent;
            border: none;
            font-size: 20px;
            font-weight: bold;
            color: grey;
            cursor: pointer;
            padding: 0;
            margin-bottom: 150px;
        }

        .btn-remove-cart:hover {
            color: red;
        }


    </style>
</head>
<body>
    <div class="container">
        <div class="css-luwwab eug5r8l1">
            <div class="css-833hqy ecbxmj4">
                <div class="side" style="margin-top:50px;position:fixed; margin-left: 138px;">
                    <div class="css-1v4whg ecbxmj3" style="font-weight: 600; font-size: 28px; line-height: 35px; color: rgb(51, 51, 51); height: 75px;
        padding: 5px 0px 35px 1px;">&nbsp;ì¥ë°”êµ¬ë‹ˆ</div>
                    <div th:replace="~{pointShop/getPointShopAside :: getPointShopAside}"></div>
                </div>
            </div>
            <input type="file" name="file" style="display:none;">
            <div class="col-md-3 text-left" style="margin-top: 100px; position:fixed; margin-left:930px; margin-right:20px;">
                <div class="form-inline" th:if="${tranPoint != 0}">
                    <div class="form-group">
                        <div>
                            <div class="product-container" style="text-align: center; font-size: 20px; font-weight: bold;">
                                <h3>í•´ë‹¹ ìƒí’ˆì€ <span style="color: red;">&nbsp;í™˜ë¶ˆ</span>ì´ ë¶ˆê°€ëŠ¥í•œ </h3>
                                <h3>ìƒí’ˆì…ë‹ˆë‹¤.</h3>
                                <h3>êµ¬ë§¤í•˜ì‹œê² ìŠµë‹ˆê¹Œ?</h3>
                            </div>
                        </div><br/><br/>
                        <div id="totalPriceSection" style="font-size: 20px; font-weight: bold;">
                            <h3>ê²°ì œ í¬ì¸íŠ¸ : <span  style="color: #FB5555;" th:text="${tranPoint}+P">0</span></h3>
                            <h3>ë³´ìœ  í¬ì¸íŠ¸ : <span style="color: #4880FF;" th:text="${currPoint}+P">0</span></h3>
                        </div>
                    </div>

                    <div class="form-group">
                        <div th:if="${tranPoint != 0}">
                            <form>
                                <input type="hidden" name="tranPoint" th:value="${tranPoint}">
                                <input type="hidden" name="cartList" th:value="${cartList}">
                                <input type="hidden" name="purchase" th:value="${purchase}">
                                <input type="hidden" name="currPoint" th:value="${currPoint}">
                                <input type="file" name="file" id="file" style="display:none;">
                                <input type="hidden" th:value="${username}" name="username">
                                <div class="button-container">
                                    <div class="css-137ca2h e1utgeno0">
                                        <button class="css-18m884r e4nu7ef3" id="buy" name="buyBtn" type="button" width="240"
                                                height="56" radius="3" style="margin-bottom: auto; margin-top: 12px; width: 100px; text-align: center;background-color: #4880FF;">
                                            <span class="css-ymwvow e4nu7ef1 submit-button-span">êµ¬ë§¤í•˜ê¸°</span>
                                        </button>
                                    </div>
                                </div>
                            </form>
                        </div>

                    </div>
                </div>
            </div>

            <div class="row" style="z-index:0; width: 800px; margin-top:65px;margin-right: 470px; margin-left: auto;">
                <h3 style="font-size: 30px; font-weight: bold;">ğŸ›’&nbsp;ì¥ë°”êµ¬ë‹ˆ</h3>
                <div class="col-md-9 text-right">


                    <div th:if="${tranPoint != 0}">
                        <div class="button-container">
                            <button class="btn-clear-cart" style="margin-left:730px; margin-bottom: 20px;" th:data-user-name="${username}">ì „ì²´ ì‚­ì œ</button>
                        </div>
                    </div>
                    <table>
                        <div th:if="${tranPoint != 0}">
                            <div class="product-list">
                                <div th:each="purchase : ${cartList}" class="product-card" th:value="${purchase.purchaseProd.prodStatus}" th:data-prod-no="${purchase.purchaseProd.prodNo}">
                                    <div class="product-img" style="width:25%; max-height:500px; display: block;">
                                        <img th:src="${url + purchase.purchaseProd.prodImg1}" alt="ìƒí’ˆ ëŒ€í‘œ ì´ë¯¸ì§€">
                                    </div>
                                    <div class="product-info">
                                        <p th:text="${purchase.purchaseProd.prodCateName}">ìƒí’ˆ ì¹´í…Œê³ ë¦¬</p>
                                        <h3 th:text="${purchase.purchaseProd.prodName}">ìƒí’ˆëª…</h3>
                                        <p style="color: #FB5555; font-weight: bold;" th:text="${purchase.purchaseProd.prodPrice} + 'P'">ìƒí’ˆ ê°€ê²©</p>
                                        <p th:class="${purchase.purchaseProd.prodStatus == true ? 'available' : 'unavailable'}"
                                           th:style="${purchase.purchaseProd.prodStatus == true ? 'color: green; text-align: left;' : 'color: red; text-align: left;'}">
                                            <span th:text="${purchase.purchaseProd.prodStatus == true ? 'êµ¬ë§¤ ê°€ëŠ¥' : 'íŒë§¤ ì¤‘ì§€'}"></span>
                                        </p>
                                    </div>
                                    <div class="button-container">
                                        <input type="hidden" name="wishCartNo" th:value="${purchase.wishCartNo}">
                                        <input type="hidden" name="purchases[__${purchaseStat.index}__].wishCartNo" th:value="${purchase.wishCartNo}">
                                        <input type="hidden" name="purchases[__${purchaseStat.index}__].prodNo" th:value="${purchase.purchaseProd.prodNo}">
                                        <input type="hidden" name="purchases[__${purchaseStat.index}__].cntProd" th:value="${purchase.purchaseProd.cntProd}">
                                        <!-- X ë²„íŠ¼ì„ ìœ„í•œ ìŠ¤íƒ€ì¼ ì¶”ê°€ -->
                                        <button class="btn-remove-cart" style="margin-left:75px;" th:data-user-name="${username}" th:data-prod-no="${purchase.prodNo}">x</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </table>


                    <div class="desc-block" th:if="${tranPoint != 0}">
                        <div class="footer" >
                            <p>ìƒí’ˆ êµ¬ë§¤ ì‹œ ìœ ì˜ì‚¬í•­</p>
                            <p>â–ª í•´ë‹¹ ìƒí’ˆë“¤ì€ êµí™˜ê¶Œìœ¼ë¡œ, êµ¬ë§¤ ì´í›„ í™˜ë¶ˆì´ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤.</p>
                            <p>â–ª PlaceHere íšŒì› íƒˆí‡´ì‹œ êµ¬ë§¤í•œ ìƒí’ˆì€ ëª¨ë‘ ì‚­ì œë©ë‹ˆë‹¤.</p>
                        </div>
                    </div><br/><br/>
                </div>
            </div>
        </div>
    </div>

        <input type="hidden" id="tranPoint" name="purchase.tranPoint" value="0">
        <!--    <div th:if="${tranPoint != 0}">-->
        <!--        <div class="product-container" style="text-align: center; font-size: 30px; font-weight: bold;">-->
        <!--            <h3>í•´ë‹¹ ìƒí’ˆì€ í™˜ë¶ˆì´ ë¶ˆê°€ëŠ¥í•œ ìƒí’ˆì…ë‹ˆë‹¤.</h3>-->
        <!--            <h3>êµ¬ë§¤í•˜ì‹œê² ìŠµë‹ˆê¹Œ?</h3>-->
        <!--        </div>-->
        <!--    </div>-->
        <div th:if="${tranPoint == 0}">
            <div class="product-container" style="text-align: center; font-size: 30px; font-weight: bold;">
                <h3>ì¥ë°”êµ¬ë‹ˆê°€ ë¹„ì–´ìˆìŠµë‹ˆë‹¤.</h3>
            </div>
        </div>

        <form>
            <div th:if="${tranPoint == 0}">
                <div class="button-container">
                    <div class="css-137ca2h e1utgeno0">
                        <button class="css-18m884r e4nu7ef3" id="confirm" name="confirmBtn" type="button" width="240"
                                height="56" radius="3" style="margin-bottom: auto; margin-top: 12px; width: 100px; text-align: center;background-color: #4880FF;">
                            <span class="css-ymwvow e4nu7ef1 submit-button-span">ë‘˜ëŸ¬ë³´ê¸°</span>
                        </button>
                    </div>
                </div><br/><br/>
            </div>
        </form>
    <input type="file" name="file" style="display:none;">
    <form>
        <input type="hidden" name="tranPoint" th:value="${tranPoint}">
        <input type="hidden" name="cartList" th:value="${cartList}">
        <input type="hidden" name="purchase" th:value="${purchase}">
        <input type="hidden" name="currPoint" th:value="${currPoint}">
        <input type="file" name="file" style="display:none;">
        <input type="hidden" th:value="${username}" name="username">
    </form>
</body>
</html>
