<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="/css/templates/header.css">
    <script src="https://kit.fontawesome.com/495cfd393e.js" crossorigin="anonymous"></script>
    <script defer src="/javascript/templates/header.js"></script>
</head>
<body>
<header th:fragment="header" class="header-wrap">
    <div class="header">
        <div class="headerMain">
            <div class="logo">
                <a id="home" href="/"><img class="logoImg" src="/images/logo.png"/></a>
            </div>


            <div th:if="${session.user != null}" class="login">
                <ul class="loginMenu">
                    <li class="non-side-bar"><span id="username" class="text-white me-2">[[ ${session.user.username} ]]</span></li>
                    <li id="/user/setting" class="non-side-bar"><a href="/user/setting">설정</a></li>
                    <li id="logout"><a href="/user/logout">로그아웃</a></li>
                </ul>
            </div>

            <div th:if="${session.user == null}" class="login">
                <ul class="loginMenu">
                    <li id="login" class="non-side-bar"><a href="/user/login">로그인</a></li>
                </ul>
            </div>
        </div>
        <hr class="centerLine"/>
        <div class="headerCategory">
            <div class="category">
                <ul class="categoryList">
                    <li><a href="/searchStore">가게 검색</a></li>
                    <li><a href="#">커뮤니티</a></li>
                    <li>
                        <div th:if="${session.user != null}" >
                            <a th:if="${session.user.role == 'ROLE_USER'}" href="/reservation/getRsrvUserList">예약</a>
                            <a th:if="${session.user.role == 'ROLE_STORE'}" href="/reservation/getRsrvStoreList">예약</a>
                        </div>
                    </li>
                    <li><a href="/product/listProduct">포인트 상점</a></li>
                    <th:block th:if="${session.user != null and session.user.role == 'ROLE_STORE'}">
                        <li><a href="/store/getMyStore">가게관리</a></li>
                    </th:block>
                </ul>
            </div>
        </div>
        <hr class="lastLine">
    </div>
    <!-- 스크롤시 나타나는 헤더 -->
    <div class="small_header">
        <div class="small_headerCategory">
            <div class="small_category">
                <ul class="small_categoryList">
                    <li class="small_logo">
                        <a href="/"><img class="logoImg" src="/images/logo.png" style="transform: scale(0.8);transform-origin: center;"/></a>
                    </li>
                    <li><a href="/searchStore">가게 검색</a></li>
                    <li><a href="#">커뮤니티</a></li>
                    <li>
                        <div th:if="${session.user != null}" >
                            <a th:if="${session.user.role == 'ROLE_USER'}" href="/reservation/getRsrvUserList">예약</a>
                            <a th:if="${session.user.role == 'ROLE_STORE'}" href="/reservation/getRsrvStoreList">예약</a>
                        </div>
                    </li>
                    <li><a href="/product/listProduct">포인트 상점</a></li>
                    <th:block th:if="${session.user != null and session.user.role == 'ROLE_STORE'}">
                        <li><a href="/store/getMyStore">가게관리</a></li>
                    </th:block>
                </ul>
            </div>

        </div>
        <hr class="lastLine">
    </div>
</header>
</body>
</html>
