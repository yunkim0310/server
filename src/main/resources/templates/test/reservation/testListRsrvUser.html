<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>User Reservation List</title>
</head>
<body>
<h1>User Reservation List</h1>

<!-- 검색 폼 -->
<form action="/test/reservation/getRsrvUserList" method="POST">
    <!-- 유저 이름 (필수) -->
    <input type="hidden" name="userName" th:value="${param.userName}" />

    <!-- 예약 상태 검색 -->
    <label for="searchKeyword">Reservation Status:</label>
    <select id="searchKeyword" name="searchKeyword">
        <option value="" th:selected="${param.searchKeyword == null}">All</option>
        <option value="예약 요청" th:selected="${param.searchKeyword == '예약 요청'}">예약 요청</option>
        <option value="예약 확정" th:selected="${param.searchKeyword == '예약 확정'}">예약 확정</option>
        <option value="이용 완료" th:selected="${param.searchKeyword == '이용 완료'}">이용 완료</option>
        <option value="리뷰 완료" th:selected="${param.searchKeyword == '리뷰 완료'}">리뷰 완료</option>
        <option value="예약 취소" th:selected="${param.searchKeyword == '예약 취소'}">예약 취소</option>
        <option value="예약 거절" th:selected="${param.searchKeyword == '예약 거절'}">예약 거절</option>
    </select>

    <!-- 정렬 방식 선택 -->
    <label for="order">Order:</label>
    <select id="order" name="order">
        <option value="asc" th:selected="${param.order == 'asc'}">Ascending</option>
        <option value="desc" th:selected="${param.order == 'desc'}">Descending</option>
    </select>

    <button type="submit">Search</button>
</form>

<!-- 결과 테이블 -->
<table>
    <thead>
    <tr>
        <th>Reservation Number</th>
        <th>Store Name</th>
        <th>Status</th>
        <th>Reservation Day</th>
        <th>Reservation Time</th>
        <th>Person Count</th>
        <th>Rsrv PhoneNumber</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="reservation : ${reservations}">
        <td th:text="${reservation.rsrvNo}">[예약 번호]</td>
        <td th:text="${reservation.storeName}">[매장 이름]</td>
        <td th:text="${reservation.rsrvStatus}">[예약 상태]</td>
        <td th:text="${#dates.format(reservation.rsrvDt, 'yyyy-MM-dd')}">[예약 날짜]</td>
        <td th:text="${#dates.format(reservation.rsrvDt, 'HH:mm:ss')}">[예약 시간]</td>
        <td th:text="${reservation.rsrvPerson}">[예약 인원]</td>
        <td th:text="${reservation.rsrvNumber}">[전화 번호]</td>
    </tr>
    </tbody>
</table>

</body>
</html>