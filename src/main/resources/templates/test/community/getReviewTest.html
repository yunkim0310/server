<!--<!DOCTYPE html>-->
<!--<html xmlns:th="http://www.thymeleaf.org">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <title>리뷰 상세보기 ==> getReview.html</title>-->

<!--    <link th:insert="~{common/import :: importFragment}">-->

<!--    <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>-->
<!--    <style>-->
<!--        body {-->
<!--            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;-->
<!--            background-color: #f9f9f9; /* 연한 회색 배경 */-->
<!--            margin: 0;-->
<!--            padding: 20px;-->
<!--        }-->

<!--        h1 {-->
<!--            text-align: center;-->
<!--            color: #333;-->
<!--            margin-bottom: 20px;-->
<!--        }-->

<!--        .review-container {-->
<!--            margin: 20px auto;-->
<!--            padding: 20px;-->
<!--            border: 1px solid #ccc;-->
<!--            border-radius: 10px;-->
<!--            background-color: #fff; /* 흰색 배경 */-->
<!--            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1); /* 그림자 효과 */-->
<!--            max-width: 800px;-->
<!--        }-->

<!--        .comment-section, .like-section {-->
<!--            margin-top: 20px;-->
<!--            padding: 15px;-->
<!--            border-top: 1px solid #eee;-->
<!--        }-->

<!--        .error-message {-->
<!--            color: red;-->
<!--            margin-top: 10px;-->
<!--        }-->

<!--        textarea {-->
<!--            width: 100%;-->
<!--            height: 60px;-->
<!--            padding: 10px;-->
<!--            border-radius: 5px;-->
<!--            border: 1px solid #ccc;-->
<!--            margin-top: 10px;-->
<!--        }-->

<!--        button {-->
<!--            background-color: #007bff;-->
<!--            color: white;-->
<!--            border: none;-->
<!--            padding: 10px 15px;-->
<!--            border-radius: 5px;-->
<!--            cursor: pointer;-->
<!--            transition: background-color 0.3s, transform 0.2s;-->
<!--        }-->

<!--        button:hover {-->
<!--            background-color: #0056b3; /* 버튼 호버시 색상 변경 */-->
<!--            transform: translateY(-2px);-->
<!--        }-->

<!--        .comment-list {-->
<!--            list-style-type: none;-->
<!--            padding: 0;-->
<!--        }-->

<!--        .comment-list li {-->
<!--            background-color: #f1f1f1; /* 댓글 배경 색 */-->
<!--            margin: 10px 0;-->
<!--            padding: 10px;-->
<!--            border-radius: 5px;-->
<!--            border: 1px solid #ddd; /* 댓글 테두리 */-->
<!--        }-->

<!--        .comment-list p {-->
<!--            margin: 5px 0;-->
<!--        }-->

<!--        .like-section {-->
<!--            display: flex;-->
<!--            justify-content: flex-start;-->
<!--            align-items: center;-->
<!--        }-->
<!--    </style>-->
<!--    <script type="text/javascript">-->
<!--        $(function() {-->

<!--        $("button.btn-primary.edit").on("click", function() {-->

<!--            var commentNo = $(this).data("comment-no");-->
<!--            var currentContent = $(this).data("current-comment");-->
<!--            console.log("commentNo chk :: ", commentNo);-->

<!--            const newContent = prompt("댓글 내용을 수정하세요:", currentContent);-->
<!--           if(newContent === null) return; // 사용자가 취소 버튼 누른경우-->

<!--           const commentData = {-->

<!--               "commentNo": commentNo ,-->
<!--               "commentsContent": newContent-->
<!--           };-->

<!--            fetch('/api-review/updateComment', {-->
<!--               method: 'PUT',-->
<!--               headers: {-->
<!--                 'Content-Type': 'application/json'-->
<!--               },-->
<!--               body: JSON.stringify(commentData)-->
<!--           })-->

<!--           .then(commentData => {-->
<!--           console.log("222222222"+commentData);-->

<!--                alert("수정이 완료되었습니다.");-->
<!--                location.reload();-->
<!--           })-->
<!--           .catch(error => {-->
<!--             alert(error.message);-->
<!--            });-->
<!--          });-->
<!--        });-->

<!--        function addComment(event) {-->
<!--            alert("댓글을 등록하시겠습니까");-->
<!--            event.preventDefault(); // 기본 폼 제출 동작 방지-->
<!--            const reviewNo = document.getElementById('reviewNo').value;-->
<!--            const commentsContent = document.getElementById('commentsContent').value;-->


<!--              console.log("reviewNo chk :: ", reviewNo);-->
<!--              console.log("commentsContent chk :: ", commentsContent);-->
<!--              console.log("username chk :: ", username);-->

<!--             fetch('/api-review/addComment', {-->
<!--                method: 'POST',-->
<!--                headers: {-->
<!--                    'Content-Type': 'application/json',-->
<!--                },-->
<!--                body: JSON.stringify({-->
<!--                    reviewNo: reviewNo,-->
<!--                    username: username,-->
<!--                    commentsContent: commentsContent-->
<!--                }),-->
<!--            })-->
<!--            .then(response => {-->
<!--                if (!response.ok) {-->
<!--                    throw new Error('댓글 추가 실패');-->
<!--                }-->
<!--                return response.json(); // 댓글 추가 후 서버의 JSON 응답 파싱-->
<!--            })-->
<!--            .then(data => {-->

<!--                // 댓글 목록 업데이트-->
<!--                const commentList = document.querySelector('.comment-list');-->
<!--                const newComment = document.createElement('li');-->
<!--                newComment.textContent = data.commentsContent; // 서버에서 응답받은 댓글 내용-->


<!--                commentList.appendChild(newComment);-->
<!--                location.reload();-->
<!--                document.getElementById('commentsContent').value = ''; // 입력란 초기화-->

<!--                const commentCountElement = document.querySelector('.review-container .comment-count');-->
<!--                let currentCount = parseInt(commentCountElement.textContent);-->
<!--                commentCountElement.textContent = currentCount + 1;-->
<!--            })-->
<!--            .catch(error => {-->
<!--                document.querySelector('.error-message').textContent = error.message;-->
<!--            });-->
<!--        }-->

<!--        function addLike(event) {-->
<!--            event.preventDefault(); // 기본 동작 방지-->
<!--            const reviewNo = document.getElementById('reviewNo').value;-->
<!--            const username = document.getElementById('userName').value;-->
<!--            const likeData = {-->
<!--                userName: username,-->
<!--                relationNo: reviewNo,-->
<!--                target: 'review'-->
<!--            };-->

<!--            fetch('/api-review/addLike', {-->
<!--                method: 'POST',-->
<!--                headers: {-->
<!--                    'Content-Type': 'application/json'-->
<!--                },-->
<!--                body: JSON.stringify(likeData),-->
<!--            })-->
<!--            .then(response => {-->
<!--                if (!response.ok) {-->
<!--                    throw new Error('좋아요 추가 실패');-->
<!--                }-->
<!--                return response.text();-->
<!--            })-->
<!--            .then(message => {-->
<!--                // 좋아요 카운트 업데이트-->
<!--                const likeCountElement = document.querySelector('.like-count');-->
<!--                let currentLikeCount = parseInt(likeCountElement.textContent);-->

<!--                if (message === '1'){-->
<!--                     alert('좋아요 추가');-->
<!--                    likeCountElement.textContent = currentLikeCount + 1; // 좋아요 수 증가-->
<!--                    location.reload();-->
<!--                }else{-->
<!--                alert('좋아요 취소');-->
<!--                  likeCountElement.textContent = currentLikeCount - 1; // 좋아요 수 증가-->
<!--                  location.reload();-->
<!--                }-->


<!--                //likeCountElement.textContent = currentLikeCount + 1; // 좋아요 수 증가-->

<!--                //event.target.textContent = "좋아요 취소";-->
<!--            event.target.setAttribute('onclick', 'removeLike(event)'); // 나중에 취소 기능 추가 가능-->
<!--          })-->
<!--          .catch(error => {-->
<!--              alert(error.message);-->
<!--          });-->
<!--      }-->
<!--                 // 댓글 삭제 함수-->
<!--   function removeComment(commentNo, buttonElement) {-->
<!--       if (confirm("정말로 댓글을 삭제하시겠습니까?")) {-->
<!--           fetch('/removeComment/' + commentNo, {-->
<!--               method: 'DELETE',-->
<!--           })-->
<!--           .then(response => {-->
<!--               if (!response.ok) {-->
<!--                   throw new Error('댓글 삭제 실패');-->
<!--               }-->
<!--               const commentItem = buttonElement.parentElement; // 삭제할 댓글 항목을 선택-->
<!--               commentItem.remove();-->
<!--           })-->
<!--           .catch(error => {-->
<!--               alert(error.message); // 오류 발생 시 경고 메시지 표시-->
<!--           });-->
<!--       }-->
<!--   }-->
<!--    </script>-->

<!--</head>-->
<!--<body>-->

<!--<div th:include="~{community/getCommunityAside}"></div>-->

<!--<div class="review-container">-->
<!--    <h2>리뷰 점수1: <span th:text="${review.reviewScore}"></span></h2>-->
<!--    <p>리뷰 내용: <span th:text="${review.reviewContent}"></span></p>-->
<!--    <p>작성자: <span th:text="${review.userName}"></span></p>-->
<!--    <p>작성일: <span th:text="${#dates.format(review.reviewDt, 'yyyy-MM-dd ')}"></span></p>-->
<!--    <p>최종 수정일: <span th:text="${#dates.format(review.currReviewUpdate, 'yyyy-MM-dd ')}"></span></p>-->
<!--    <p>별점: <span th:text="${review.reviewScore}"></span>점</p>-->
<!--    <p>매장 이름: <span th:text="${review.storeName}"></span></p>-->
<!--    <p>좋아요 수: <span class="like-count" th:text="${review.reviewLikeCnt}"></span></p>-->
<!--    <p>댓글 수: <span class="comment-count" th:text="${#lists.size(review.commentList)}"></span></p>-->
<!--</div>-->

<!--<div class="comment-section">-->
<!--    <h2>댓글 작성하기</h2>-->
<!--    <form onsubmit="addComment(event)">-->
<!--        <input id="reviewNo" name="reviewNo" th:value="${review.reviewNo}" type="hidden"/>-->
<!--        <input id="userName" name="userName" type="hidden" th:value="${user.username}"/>-->
<!--        <textarea id="commentsContent" name="commentsContent" placeholder="댓글을 입력하세요" required></textarea><br/>-->
<!--        &lt;!&ndash;        <button type="submit">댓글 추가</button>&ndash;&gt;-->
<!--        <button onclick="addComment(event)">댓글 추가</button><span></span>-->
<!--        <button onclick="addLike(event)">좋아요</button>-->
<!--    </form>-->
<!--    &lt;!&ndash; 에러 메시지 표시 &ndash;&gt;-->
<!--    <div class="error-message"></div>-->
<!--</div>-->

<!--<div class="comment-section">-->
<!--    <h2>댓글 목록</h2>-->
<!--    <ul class="comment-list" id="commentList">-->
<!--        <li th:each="comment : ${commentList}">-->
<!--            <p><strong th:text="${comment.userName}"></strong></p>-->
<!--            <p th:text="${comment.commentsContent}"></p>-->
<!--            <p th:text="${#dates.format(comment.commentsDt, 'yyyy-MM-dd ')}"></p>-->

<!--            <button class="btn-primary edit" th:data-comment-no="${comment.commentNo}"-->
<!--                    th:data-current-comment="${comment.commentsContent}"-->
<!--                    th:if="${comment.userName == user.username}">수정-->
<!--            </button>-->

<!--            <form method="post" onsubmit="return confirm('정말 삭제 하시겠습니까?');" style="display:inline;"-->
<!--                  th:action="@{/review/removeComment}"-->
<!--                  th:if="${comment.userName == user.username}">-->
<!--                <input type="hidden" name="commentNo" th:value="${comment.commentNo}"/>-->
<!--                <input type="hidden" name="reviewNo" th:value="${review.reviewNo}"/>-->
<!--                <button type="submit">삭제</button>-->
<!--            </form>-->
<!--            <hr/>-->
<!--        </li>-->
<!--    </ul>-->
<!--</div>-->

<!--<form name="pagingForm">-->
<!--    <input type="hidden" name="page">-->
<!--    <input type="hidden" name="type" value="getReview">-->
<!--</form>-->

<!--<a th:href="@{/review/getReviewList}">리뷰 목록으로 돌아가기</a>-->

<!--</body>-->
<!--</html>-->